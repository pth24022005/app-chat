<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>EventLive Chat</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <style>
            .no-scrollbar::-webkit-scrollbar {
                display: none;
            }
        </style>
    </head>
    <body
        class="h-screen flex items-center justify-center bg-gradient-to-br from-indigo-500 to-purple-600 font-sans"
    >
        <div
            class="bg-white w-full max-w-md h-[85vh] rounded-3xl shadow-2xl flex flex-col overflow-hidden relative"
        >
            <div
                class="p-4 border-b flex justify-between items-center bg-gray-50 z-10 shadow-sm"
            >
                <div>
                    <h2
                        class="font-bold text-lg text-indigo-600 flex items-center gap-2"
                    >
                        üéâ EventLive
                    </h2>
                    <p class="text-xs text-gray-500">
                        Hi, <b id="userInfo">User</b>
                    </p>
                </div>
                <button
                    id="btn-logout"
                    class="text-xs text-red-500 hover:text-red-700 font-medium border border-red-200 px-3 py-1 rounded-full hover:bg-red-50 transition"
                >
                    Logout
                </button>
            </div>

            <div
                id="join-screen"
                class="flex-1 flex flex-col p-4 gap-4 overflow-hidden relative"
            >
                <div class="text-center mb-1">
                    <h3 class="font-bold text-gray-800 text-xl">
                        S·ª± ki·ªán n·ªïi b·∫≠t
                    </h3>
                    <p class="text-xs text-gray-400">
                        Ch·ªçn ph√≤ng ƒë·ªÉ tham gia th·∫£o lu·∫≠n
                    </p>
                </div>
                <div class="w-full">
                    <label
                        class="text-[10px] font-bold text-gray-400 uppercase ml-1"
                        >T√™n hi·ªÉn th·ªã</label
                    >
                    <input
                        id="displayName"
                        class="w-full p-3 rounded-xl border-2 border-indigo-100 outline-none text-center font-bold text-gray-700"
                        placeholder="Nh·∫≠p t√™n..."
                    />
                </div>
                <div
                    id="event-list"
                    class="flex-1 overflow-y-auto space-y-3 pr-1 pb-4 no-scrollbar"
                ></div>
            </div>

            <div id="chat-screen" class="hidden flex-1 flex flex-col bg-white">
                <div
                    id="room-header"
                    class="bg-indigo-50 border-b border-indigo-100 flex justify-between px-4 py-2 items-center shadow-sm"
                >
                    <div class="flex flex-col overflow-hidden">
                        <span
                            id="room-name-display"
                            class="font-bold text-indigo-800 text-sm truncate"
                            >...</span
                        >
                        <div class="flex items-center gap-2">
                            <span
                                id="room-info-display"
                                class="text-[10px] text-indigo-500 truncate max-w-[150px]"
                                >...</span
                            >
                            <span
                                class="bg-green-100 text-green-700 text-[10px] px-2 py-0.5 rounded-full font-bold flex items-center gap-1 border border-green-200"
                            >
                                <span
                                    class="w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"
                                ></span>
                                <span id="online-count">0</span> Online
                            </span>
                        </div>
                    </div>
                    <button
                        id="btn-leave"
                        class="shrink-0 text-[10px] text-gray-500 bg-white border px-2 py-1 rounded hover:bg-red-50"
                    >
                        R·ªùi ph√≤ng
                    </button>
                </div>
                <div
                    id="chat-content"
                    class="flex-1 p-4 overflow-y-auto bg-slate-50 space-y-2 scroll-smooth"
                ></div>
                <div class="p-3 flex gap-2 border-t bg-white">
                    <input
                        id="message-input"
                        class="flex-1 p-3 bg-gray-100 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-300 transition text-sm"
                        placeholder="Nh·∫≠p tin nh·∫Øn..."
                        autocomplete="off"
                    />
                    <button
                        id="send-btn"
                        class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 rounded-xl font-bold transition"
                    >
                        ‚û§
                    </button>
                </div>
            </div>
        </div>

        <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
        <script type="module" src="js/controllers/client.js"></script>
    </body>
</html>
